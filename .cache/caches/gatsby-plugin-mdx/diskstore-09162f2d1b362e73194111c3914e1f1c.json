{"expireTime":9007200828410574000,"key":"gatsby-plugin-mdx-entire-payload-1aad2be2a730a2f4490c8f3bf7a163b6-/ibm-garage-developer-guide","val":{"mdast":{"type":"root","children":[{"type":"import","value":"import DefaultLayout from \"/home/jenkins/workspace/dev/dev-ibm-garage-cloud.ibm-garage-developer-guide.sms-pipeline/node_modules/gatsby-theme-carbon/src/templates/Default.js\"","position":{"start":{"line":3,"column":1,"offset":2},"end":{"line":3,"column":175,"offset":176},"indent":[]}},{"type":"export","default":true,"value":"export default DefaultLayout","position":{"start":{"line":5,"column":1,"offset":178},"end":{"line":5,"column":29,"offset":206},"indent":[]}},{"type":"jsx","value":"<PageDescription>","position":{"start":{"line":8,"column":1,"offset":209},"end":{"line":8,"column":18,"offset":226},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Use ArgoCD to continuously deliver application changes into the runtime environment","position":{"start":{"line":10,"column":1,"offset":228},"end":{"line":10,"column":84,"offset":311},"indent":[]}}],"position":{"start":{"line":10,"column":1,"offset":228},"end":{"line":10,"column":84,"offset":311},"indent":[]}},{"type":"jsx","value":"</PageDescription>","position":{"start":{"line":12,"column":1,"offset":313},"end":{"line":12,"column":19,"offset":331},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"In IBM Garage Method, one of the Develop practices is ","position":{"start":{"line":14,"column":1,"offset":333},"end":{"line":14,"column":55,"offset":387},"indent":[]}},{"type":"link","title":null,"url":"https://www.ibm.com/garage/method/practices/deliver/practice_continuous_delivery/","children":[{"type":"text","value":"continuous delivery","position":{"start":{"line":14,"column":56,"offset":388},"end":{"line":14,"column":75,"offset":407},"indent":[]}}],"position":{"start":{"line":14,"column":55,"offset":387},"end":{"line":14,"column":159,"offset":491},"indent":[]}},{"type":"text","value":".\nThe Developer Tools environment uses an ArgoCD pipeline to automate continuous delivery.","position":{"start":{"line":14,"column":159,"offset":491},"end":{"line":15,"column":89,"offset":581},"indent":[1]}}],"position":{"start":{"line":14,"column":1,"offset":333},"end":{"line":15,"column":89,"offset":581},"indent":[1]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"What is continuous delivery","position":{"start":{"line":17,"column":4,"offset":586},"end":{"line":17,"column":31,"offset":613},"indent":[]}}],"position":{"start":{"line":17,"column":1,"offset":583},"end":{"line":17,"column":31,"offset":613},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Continuous delivery is the DevOps approach of continuously making new versions of a application components available\nfor deployment to an environment. The process involves automation of the build and validation process and concludes with\na new version of the application that is available for promotion to another environment.","position":{"start":{"line":19,"column":1,"offset":615},"end":{"line":21,"column":89,"offset":941},"indent":[1,1]}}],"position":{"start":{"line":19,"column":1,"offset":615},"end":{"line":21,"column":89,"offset":941},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Continuous Delivery is closely related to Continuous Deployment with the only distinction being that in \nContinuous Deployment the new versions are automatically deployed into the next environment. In Continuous\nDelivery the automated deployment requires the deployment to be manually triggered.","position":{"start":{"line":23,"column":1,"offset":943},"end":{"line":25,"column":84,"offset":1238},"indent":[1,1]}}],"position":{"start":{"line":23,"column":1,"offset":943},"end":{"line":25,"column":84,"offset":1238},"indent":[1,1]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"What is Git Ops","position":{"start":{"line":27,"column":4,"offset":1243},"end":{"line":27,"column":19,"offset":1258},"indent":[]}}],"position":{"start":{"line":27,"column":1,"offset":1240},"end":{"line":27,"column":19,"offset":1258},"indent":[]}},{"type":"paragraph","children":[{"type":"link","title":null,"url":"https://www.weave.works/technologies/gitops/","children":[{"type":"text","value":"GitOps","position":{"start":{"line":29,"column":2,"offset":1261},"end":{"line":29,"column":8,"offset":1267},"indent":[]}}],"position":{"start":{"line":29,"column":1,"offset":1260},"end":{"line":29,"column":55,"offset":1314},"indent":[]}},{"type":"text","value":" is the operational pattern of using Git repositories as the source of truth for\ndefining the configuration that makes up the desired state of the application.","position":{"start":{"line":29,"column":55,"offset":1314},"end":{"line":30,"column":79,"offset":1473},"indent":[1]}}],"position":{"start":{"line":29,"column":1,"offset":1260},"end":{"line":30,"column":79,"offset":1473},"indent":[1]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Common tools","position":{"start":{"line":32,"column":4,"offset":1478},"end":{"line":32,"column":16,"offset":1490},"indent":[]}}],"position":{"start":{"line":32,"column":1,"offset":1475},"end":{"line":32,"column":16,"offset":1490},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"What is ArgoCD","position":{"start":{"line":34,"column":5,"offset":1496},"end":{"line":34,"column":19,"offset":1510},"indent":[]}}],"position":{"start":{"line":34,"column":1,"offset":1492},"end":{"line":34,"column":19,"offset":1510},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"\"ArgoCD is a delarative, GitOps continuous delivery tools for Kubernetes\"","position":{"start":{"line":36,"column":1,"offset":1512},"end":{"line":36,"column":74,"offset":1585},"indent":[]}}],"position":{"start":{"line":36,"column":1,"offset":1512},"end":{"line":36,"column":74,"offset":1585},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"It supports defining kubernetes manifests in a number of ways:","position":{"start":{"line":38,"column":1,"offset":1587},"end":{"line":38,"column":63,"offset":1649},"indent":[]}}],"position":{"start":{"line":38,"column":1,"offset":1587},"end":{"line":38,"column":63,"offset":1649},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"kustomize","position":{"start":{"line":40,"column":3,"offset":1653},"end":{"line":40,"column":12,"offset":1662},"indent":[]}}],"position":{"start":{"line":40,"column":3,"offset":1653},"end":{"line":40,"column":12,"offset":1662},"indent":[]}}],"position":{"start":{"line":40,"column":1,"offset":1651},"end":{"line":40,"column":12,"offset":1662},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"helm charts","position":{"start":{"line":41,"column":3,"offset":1665},"end":{"line":41,"column":14,"offset":1676},"indent":[]}}],"position":{"start":{"line":41,"column":3,"offset":1665},"end":{"line":41,"column":14,"offset":1676},"indent":[]}}],"position":{"start":{"line":41,"column":1,"offset":1663},"end":{"line":41,"column":14,"offset":1676},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"ksonnet","position":{"start":{"line":42,"column":3,"offset":1679},"end":{"line":42,"column":10,"offset":1686},"indent":[]}}],"position":{"start":{"line":42,"column":3,"offset":1679},"end":{"line":42,"column":10,"offset":1686},"indent":[]}}],"position":{"start":{"line":42,"column":1,"offset":1677},"end":{"line":42,"column":10,"offset":1686},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"jsonnet","position":{"start":{"line":43,"column":3,"offset":1689},"end":{"line":43,"column":10,"offset":1696},"indent":[]}}],"position":{"start":{"line":43,"column":3,"offset":1689},"end":{"line":43,"column":10,"offset":1696},"indent":[]}}],"position":{"start":{"line":43,"column":1,"offset":1687},"end":{"line":43,"column":10,"offset":1696},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"plain directory of yaml/json manifests","position":{"start":{"line":44,"column":3,"offset":1699},"end":{"line":44,"column":41,"offset":1737},"indent":[]}}],"position":{"start":{"line":44,"column":3,"offset":1699},"end":{"line":44,"column":41,"offset":1737},"indent":[]}}],"position":{"start":{"line":44,"column":1,"offset":1697},"end":{"line":44,"column":41,"offset":1737},"indent":[]}}],"position":{"start":{"line":40,"column":1,"offset":1651},"end":{"line":44,"column":41,"offset":1737},"indent":[1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"ArgoCD synchronizes the application state with the desired state defined in Git and\nautomates the deployment of kubernetes resources to ensure they match.","position":{"start":{"line":46,"column":1,"offset":1739},"end":{"line":47,"column":71,"offset":1893},"indent":[1]}}],"position":{"start":{"line":46,"column":1,"offset":1739},"end":{"line":47,"column":71,"offset":1893},"indent":[1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Configuring GitOps with ArgoCD","position":{"start":{"line":49,"column":5,"offset":1899},"end":{"line":49,"column":35,"offset":1929},"indent":[]}}],"position":{"start":{"line":49,"column":1,"offset":1895},"end":{"line":49,"column":35,"offset":1929},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"You must have completed the ","position":{"start":{"line":51,"column":1,"offset":1931},"end":{"line":51,"column":29,"offset":1959},"indent":[]}},{"type":"link","title":null,"url":"/getting-started/argocd-setup","children":[{"type":"text","value":"ArgoCD Setup","position":{"start":{"line":51,"column":30,"offset":1960},"end":{"line":51,"column":42,"offset":1972},"indent":[]}}],"position":{"start":{"line":51,"column":29,"offset":1959},"end":{"line":51,"column":74,"offset":2004},"indent":[]}},{"type":"text","value":" before continuing.","position":{"start":{"line":51,"column":74,"offset":2004},"end":{"line":51,"column":93,"offset":2023},"indent":[]}}],"position":{"start":{"line":51,"column":1,"offset":1931},"end":{"line":51,"column":93,"offset":2023},"indent":[]}},{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"Terminology:","position":{"start":{"line":53,"column":3,"offset":2027},"end":{"line":53,"column":15,"offset":2039},"indent":[]}}],"position":{"start":{"line":53,"column":1,"offset":2025},"end":{"line":53,"column":17,"offset":2041},"indent":[]}}],"position":{"start":{"line":53,"column":1,"offset":2025},"end":{"line":53,"column":17,"offset":2041},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"ArgoCD uses a number of terms to refer to the components","position":{"start":{"line":55,"column":1,"offset":2043},"end":{"line":55,"column":57,"offset":2099},"indent":[]}}],"position":{"start":{"line":55,"column":1,"offset":2043},"end":{"line":55,"column":57,"offset":2099},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":true,"checked":null,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"Application","position":{"start":{"line":57,"column":3,"offset":2103},"end":{"line":57,"column":16,"offset":2116},"indent":[]}},{"type":"text","value":" - a deployable unit","position":{"start":{"line":57,"column":16,"offset":2116},"end":{"line":57,"column":36,"offset":2136},"indent":[]}}],"position":{"start":{"line":57,"column":3,"offset":2103},"end":{"line":57,"column":36,"offset":2136},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"  In the context of the Dev Tools, that will map to one helm chart that contains one container image \n  that was produced by one CI pipeline. While helm charts and images could certainly be combined to\n  make more sophisticated applications in more advanced scenarios, we will be using this simple definition\n  here.\n  ","position":{"start":{"line":59,"column":3,"offset":2140},"end":{"line":63,"column":5,"offset":2467},"indent":[3,3,3,3]}}],"position":{"start":{"line":59,"column":3,"offset":2140},"end":{"line":63,"column":5,"offset":2467},"indent":[3,3,3,3]}}],"position":{"start":{"line":57,"column":1,"offset":2101},"end":{"line":63,"column":5,"offset":2467},"indent":[1,1,1,1,1,1]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"Project","position":{"start":{"line":64,"column":3,"offset":2470},"end":{"line":64,"column":12,"offset":2479},"indent":[]}},{"type":"text","value":" - a collection of applications that make up a solution","position":{"start":{"line":64,"column":12,"offset":2479},"end":{"line":64,"column":67,"offset":2534},"indent":[]}}],"position":{"start":{"line":64,"column":3,"offset":2470},"end":{"line":64,"column":67,"offset":2534},"indent":[]}}],"position":{"start":{"line":64,"column":1,"offset":2468},"end":{"line":64,"column":67,"offset":2534},"indent":[]}}],"position":{"start":{"line":57,"column":1,"offset":2101},"end":{"line":64,"column":67,"offset":2534},"indent":[1,1,1,1,1,1,1]}},{"type":"heading","depth":4,"children":[{"type":"text","value":"Find the url to the Artifactory helm repository","position":{"start":{"line":66,"column":6,"offset":2541},"end":{"line":66,"column":53,"offset":2588},"indent":[]}}],"position":{"start":{"line":66,"column":1,"offset":2536},"end":{"line":66,"column":53,"offset":2588},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Assuming a build has already completed successfully and published the result to Artifactory then use the following steps:","position":{"start":{"line":68,"column":1,"offset":2590},"end":{"line":68,"column":122,"offset":2711},"indent":[]}}],"position":{"start":{"line":68,"column":1,"offset":2590},"end":{"line":68,"column":122,"offset":2711},"indent":[]}},{"type":"list","ordered":true,"start":1,"spread":true,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Open the Artifactory dashboard from the ","position":{"start":{"line":70,"column":4,"offset":2716},"end":{"line":70,"column":44,"offset":2756},"indent":[]}},{"type":"link","title":null,"url":"/getting-started/dashboard","children":[{"type":"text","value":"Developer Tools Dashboard","position":{"start":{"line":70,"column":45,"offset":2757},"end":{"line":70,"column":70,"offset":2782},"indent":[]}}],"position":{"start":{"line":70,"column":44,"offset":2756},"end":{"line":70,"column":99,"offset":2811},"indent":[]}},{"type":"text","value":" and login","position":{"start":{"line":70,"column":99,"offset":2811},"end":{"line":70,"column":109,"offset":2821},"indent":[]}}],"position":{"start":{"line":70,"column":4,"offset":2716},"end":{"line":70,"column":109,"offset":2821},"indent":[]}}],"position":{"start":{"line":70,"column":1,"offset":2713},"end":{"line":71,"column":1,"offset":2822},"indent":[1]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Select ","position":{"start":{"line":72,"column":4,"offset":2826},"end":{"line":72,"column":11,"offset":2833},"indent":[]}},{"type":"inlineCode","value":"Artifacts","position":{"start":{"line":72,"column":11,"offset":2833},"end":{"line":72,"column":22,"offset":2844},"indent":[]}},{"type":"text","value":" from the left nav menu","position":{"start":{"line":72,"column":22,"offset":2844},"end":{"line":72,"column":45,"offset":2867},"indent":[]}}],"position":{"start":{"line":72,"column":4,"offset":2826},"end":{"line":72,"column":45,"offset":2867},"indent":[]}}],"position":{"start":{"line":72,"column":1,"offset":2823},"end":{"line":73,"column":1,"offset":2868},"indent":[1]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"In the ","position":{"start":{"line":74,"column":4,"offset":2872},"end":{"line":74,"column":11,"offset":2879},"indent":[]}},{"type":"inlineCode","value":"Artifact Repository Browser","position":{"start":{"line":74,"column":11,"offset":2879},"end":{"line":74,"column":40,"offset":2908},"indent":[]}},{"type":"text","value":", expand the ","position":{"start":{"line":74,"column":40,"offset":2908},"end":{"line":74,"column":53,"offset":2921},"indent":[]}},{"type":"inlineCode","value":"generic-local","position":{"start":{"line":74,"column":53,"offset":2921},"end":{"line":74,"column":68,"offset":2936},"indent":[]}},{"type":"text","value":" folder and the folder beneath it.","position":{"start":{"line":74,"column":68,"offset":2936},"end":{"line":74,"column":102,"offset":2970},"indent":[]}}],"position":{"start":{"line":74,"column":4,"offset":2872},"end":{"line":74,"column":102,"offset":2970},"indent":[]}}],"position":{"start":{"line":74,"column":1,"offset":2869},"end":{"line":75,"column":1,"offset":2971},"indent":[1]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Click on the ","position":{"start":{"line":76,"column":4,"offset":2975},"end":{"line":76,"column":17,"offset":2988},"indent":[]}},{"type":"inlineCode","value":"index.yaml","position":{"start":{"line":76,"column":17,"offset":2988},"end":{"line":76,"column":29,"offset":3000},"indent":[]}},{"type":"text","value":" file","position":{"start":{"line":76,"column":29,"offset":3000},"end":{"line":76,"column":34,"offset":3005},"indent":[]}}],"position":{"start":{"line":76,"column":4,"offset":2975},"end":{"line":76,"column":34,"offset":3005},"indent":[]}}],"position":{"start":{"line":76,"column":1,"offset":2972},"end":{"line":77,"column":1,"offset":3006},"indent":[1]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"In the details pane on the right, right-click on the ","position":{"start":{"line":78,"column":4,"offset":3010},"end":{"line":78,"column":57,"offset":3063},"indent":[]}},{"type":"inlineCode","value":"Download","position":{"start":{"line":78,"column":57,"offset":3063},"end":{"line":78,"column":67,"offset":3073},"indent":[]}},{"type":"text","value":" link and copy the link address.","position":{"start":{"line":78,"column":67,"offset":3073},"end":{"line":78,"column":99,"offset":3105},"indent":[]}}],"position":{"start":{"line":78,"column":4,"offset":3010},"end":{"line":78,"column":99,"offset":3105},"indent":[]}}],"position":{"start":{"line":78,"column":1,"offset":3007},"end":{"line":79,"column":1,"offset":3106},"indent":[1]}},{"type":"listItem","spread":true,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Open a text editor and paste the link address value into it. The helm repository url should be the value \nexcluding ","position":{"start":{"line":80,"column":4,"offset":3110},"end":{"line":81,"column":11,"offset":3226},"indent":[1]}},{"type":"inlineCode","value":"index.yaml","position":{"start":{"line":81,"column":11,"offset":3226},"end":{"line":81,"column":23,"offset":3238},"indent":[]}},{"type":"text","value":" ","position":{"start":{"line":81,"column":23,"offset":3238},"end":{"line":81,"column":24,"offset":3239},"indent":[]}}],"position":{"start":{"line":80,"column":4,"offset":3110},"end":{"line":81,"column":24,"offset":3239},"indent":[1]}},{"type":"code","lang":null,"meta":null,"value":"For example, for `https://artifactory.test.com/artifactory/generic-local/test/index.yaml` the helm repository\nurl would be `https://artifactory.test.com/artifactory/generic-local/test`","position":{"start":{"line":83,"column":1,"offset":3241},"end":{"line":84,"column":79,"offset":3433},"indent":[1]}}],"position":{"start":{"line":80,"column":1,"offset":3107},"end":{"line":84,"column":79,"offset":3433},"indent":[1,1,1,1]}}],"position":{"start":{"line":70,"column":1,"offset":2713},"end":{"line":84,"column":79,"offset":3433},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"heading","depth":4,"children":[{"type":"text","value":"Setup the GitOps repo","position":{"start":{"line":86,"column":6,"offset":3440},"end":{"line":86,"column":27,"offset":3461},"indent":[]}}],"position":{"start":{"line":86,"column":1,"offset":3435},"end":{"line":86,"column":27,"offset":3461},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"ArgoCD uses a Git repo to express the desired state of the Kubernetes environment. We recommend using\none repository to represent one ","position":{"start":{"line":88,"column":1,"offset":3463},"end":{"line":89,"column":33,"offset":3597},"indent":[1]}},{"type":"inlineCode","value":"project","position":{"start":{"line":89,"column":33,"offset":3597},"end":{"line":89,"column":42,"offset":3606},"indent":[]}},{"type":"text","value":". Within that repository we will have a separate folder for \neach ","position":{"start":{"line":89,"column":42,"offset":3606},"end":{"line":90,"column":6,"offset":3672},"indent":[1]}},{"type":"inlineCode","value":"application","position":{"start":{"line":90,"column":6,"offset":3672},"end":{"line":90,"column":19,"offset":3685},"indent":[]}},{"type":"text","value":" that will be part of the ","position":{"start":{"line":90,"column":19,"offset":3685},"end":{"line":90,"column":45,"offset":3711},"indent":[]}},{"type":"inlineCode","value":"project","position":{"start":{"line":90,"column":45,"offset":3711},"end":{"line":90,"column":54,"offset":3720},"indent":[]}},{"type":"text","value":". The repository will also contain a branch for \neach environment/namespace into which we want to deploy the applications.","position":{"start":{"line":90,"column":54,"offset":3720},"end":{"line":91,"column":74,"offset":3842},"indent":[1]}}],"position":{"start":{"line":88,"column":1,"offset":3463},"end":{"line":91,"column":74,"offset":3842},"indent":[1,1,1]}},{"type":"list","ordered":true,"start":1,"spread":true,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Create a new repo from the ArgoCD Starter Kit template - ","position":{"start":{"line":93,"column":4,"offset":3847},"end":{"line":93,"column":61,"offset":3904},"indent":[]}},{"type":"link","title":null,"url":"https://github.com/ibm-garage-cloud/template-argocd-test/generate","children":[{"type":"text","value":"https://github.com/ibm-garage-cloud/template-argocd-test/generate","position":{"start":{"line":93,"column":61,"offset":3904},"end":{"line":93,"column":126,"offset":3969},"indent":[]}}],"position":{"start":{"line":93,"column":61,"offset":3904},"end":{"line":93,"column":126,"offset":3969},"indent":[]}}],"position":{"start":{"line":93,"column":4,"offset":3847},"end":{"line":93,"column":126,"offset":3969},"indent":[]}}],"position":{"start":{"line":93,"column":1,"offset":3844},"end":{"line":94,"column":1,"offset":3970},"indent":[1]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Clone the project to your machine","position":{"start":{"line":95,"column":4,"offset":3974},"end":{"line":95,"column":37,"offset":4007},"indent":[]}}],"position":{"start":{"line":95,"column":4,"offset":3974},"end":{"line":95,"column":37,"offset":4007},"indent":[]}}],"position":{"start":{"line":95,"column":1,"offset":3971},"end":{"line":96,"column":1,"offset":4008},"indent":[1]}},{"type":"listItem","spread":true,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Create a branch named ","position":{"start":{"line":97,"column":4,"offset":4012},"end":{"line":97,"column":26,"offset":4034},"indent":[]}},{"type":"inlineCode","value":"test","position":{"start":{"line":97,"column":26,"offset":4034},"end":{"line":97,"column":32,"offset":4040},"indent":[]}},{"type":"text","value":" to configure the values for deployment to the ","position":{"start":{"line":97,"column":32,"offset":4040},"end":{"line":97,"column":79,"offset":4087},"indent":[]}},{"type":"inlineCode","value":"test","position":{"start":{"line":97,"column":79,"offset":4087},"end":{"line":97,"column":85,"offset":4093},"indent":[]}},{"type":"text","value":" environment","position":{"start":{"line":97,"column":85,"offset":4093},"end":{"line":97,"column":97,"offset":4105},"indent":[]}}],"position":{"start":{"line":97,"column":4,"offset":4012},"end":{"line":97,"column":97,"offset":4105},"indent":[]}},{"type":"code","lang":"bash","meta":null,"value":"git checkout -b test","position":{"start":{"line":99,"column":5,"offset":4111},"end":{"line":101,"column":8,"offset":4151},"indent":[5,5]}}],"position":{"start":{"line":97,"column":1,"offset":4009},"end":{"line":102,"column":1,"offset":4152},"indent":[1,1,1,1,1]}},{"type":"listItem","spread":true,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"The repository contains a template helm chart in the ","position":{"start":{"line":103,"column":4,"offset":4156},"end":{"line":103,"column":57,"offset":4209},"indent":[]}},{"type":"inlineCode","value":"app-artifactory","position":{"start":{"line":103,"column":57,"offset":4209},"end":{"line":103,"column":74,"offset":4226},"indent":[]}},{"type":"text","value":" folder. Copy that folder and rename to one of \nthe application names in your project.","position":{"start":{"line":103,"column":74,"offset":4226},"end":{"line":104,"column":39,"offset":4312},"indent":[1]}}],"position":{"start":{"line":103,"column":4,"offset":4156},"end":{"line":104,"column":39,"offset":4312},"indent":[1]}},{"type":"paragraph","children":[{"type":"text","value":"   The application name should match the name in the package.json if the Jenkins CI pipeline is going push changes to the \n   CD pipeline.","position":{"start":{"line":106,"column":1,"offset":4314},"end":{"line":107,"column":16,"offset":4452},"indent":[1]}}],"position":{"start":{"line":106,"column":1,"offset":4314},"end":{"line":107,"column":16,"offset":4452},"indent":[1]}}],"position":{"start":{"line":103,"column":1,"offset":4153},"end":{"line":108,"column":1,"offset":4453},"indent":[1,1,1,1,1]}},{"type":"listItem","spread":true,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Update ","position":{"start":{"line":109,"column":4,"offset":4457},"end":{"line":109,"column":11,"offset":4464},"indent":[]}},{"type":"inlineCode","value":"Chart.yaml","position":{"start":{"line":109,"column":11,"offset":4464},"end":{"line":109,"column":23,"offset":4476},"indent":[]}}],"position":{"start":{"line":109,"column":4,"offset":4457},"end":{"line":109,"column":23,"offset":4476},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"name","position":{"start":{"line":111,"column":6,"offset":4483},"end":{"line":111,"column":12,"offset":4489},"indent":[]}},{"type":"text","value":" - the name of the application (should match the folder from the previous step)","position":{"start":{"line":111,"column":12,"offset":4489},"end":{"line":111,"column":91,"offset":4568},"indent":[]}}],"position":{"start":{"line":111,"column":6,"offset":4483},"end":{"line":111,"column":91,"offset":4568},"indent":[]}}],"position":{"start":{"line":111,"column":4,"offset":4481},"end":{"line":111,"column":91,"offset":4568},"indent":[]}}],"position":{"start":{"line":111,"column":4,"offset":4481},"end":{"line":111,"column":91,"offset":4568},"indent":[]}}],"position":{"start":{"line":109,"column":1,"offset":4454},"end":{"line":112,"column":1,"offset":4569},"indent":[1,1,1]}},{"type":"listItem","spread":true,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Update ","position":{"start":{"line":113,"column":4,"offset":4573},"end":{"line":113,"column":11,"offset":4580},"indent":[]}},{"type":"inlineCode","value":"requirements.yaml","position":{"start":{"line":113,"column":11,"offset":4580},"end":{"line":113,"column":30,"offset":4599},"indent":[]}}],"position":{"start":{"line":113,"column":4,"offset":4573},"end":{"line":113,"column":30,"offset":4599},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"name","position":{"start":{"line":115,"column":7,"offset":4607},"end":{"line":115,"column":13,"offset":4613},"indent":[]}},{"type":"text","value":" - the name of helm chart/image. This should match your application name","position":{"start":{"line":115,"column":13,"offset":4613},"end":{"line":115,"column":85,"offset":4685},"indent":[]}}],"position":{"start":{"line":115,"column":7,"offset":4607},"end":{"line":115,"column":85,"offset":4685},"indent":[]}}],"position":{"start":{"line":115,"column":5,"offset":4605},"end":{"line":115,"column":85,"offset":4685},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"version","position":{"start":{"line":116,"column":7,"offset":4692},"end":{"line":116,"column":16,"offset":4701},"indent":[]}},{"type":"text","value":" - the version number of the helm chart","position":{"start":{"line":116,"column":16,"offset":4701},"end":{"line":116,"column":55,"offset":4740},"indent":[]}}],"position":{"start":{"line":116,"column":7,"offset":4692},"end":{"line":116,"column":55,"offset":4740},"indent":[]}}],"position":{"start":{"line":116,"column":5,"offset":4690},"end":{"line":116,"column":55,"offset":4740},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"repository","position":{"start":{"line":117,"column":7,"offset":4747},"end":{"line":117,"column":19,"offset":4759},"indent":[]}},{"type":"text","value":" - the url to the helm repository","position":{"start":{"line":117,"column":19,"offset":4759},"end":{"line":117,"column":52,"offset":4792},"indent":[]}}],"position":{"start":{"line":117,"column":7,"offset":4747},"end":{"line":117,"column":52,"offset":4792},"indent":[]}}],"position":{"start":{"line":117,"column":5,"offset":4745},"end":{"line":117,"column":52,"offset":4792},"indent":[]}}],"position":{"start":{"line":115,"column":5,"offset":4605},"end":{"line":117,"column":52,"offset":4792},"indent":[5,5]}},{"type":"paragraph","children":[{"type":"text","value":"If you are using Artifactory, you should have retrieved the ","position":{"start":{"line":119,"column":5,"offset":4802},"end":{"line":119,"column":65,"offset":4862},"indent":[]}},{"type":"inlineCode","value":"repository","position":{"start":{"line":119,"column":65,"offset":4862},"end":{"line":119,"column":77,"offset":4874},"indent":[]}},{"type":"text","value":" value in the previous section.","position":{"start":{"line":119,"column":77,"offset":4874},"end":{"line":119,"column":108,"offset":4905},"indent":[]}}],"position":{"start":{"line":119,"column":5,"offset":4802},"end":{"line":119,"column":108,"offset":4905},"indent":[]}}],"position":{"start":{"line":113,"column":1,"offset":4570},"end":{"line":120,"column":1,"offset":4906},"indent":[1,1,1,1,1,1,1]}},{"type":"listItem","spread":true,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Update ","position":{"start":{"line":121,"column":4,"offset":4910},"end":{"line":121,"column":11,"offset":4917},"indent":[]}},{"type":"inlineCode","value":"values.yaml","position":{"start":{"line":121,"column":11,"offset":4917},"end":{"line":121,"column":24,"offset":4930},"indent":[]}}],"position":{"start":{"line":121,"column":4,"offset":4910},"end":{"line":121,"column":24,"offset":4930},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Replace ","position":{"start":{"line":123,"column":7,"offset":4939},"end":{"line":123,"column":15,"offset":4947},"indent":[]}},{"type":"inlineCode","value":"<app-chart-name>","position":{"start":{"line":123,"column":15,"offset":4947},"end":{"line":123,"column":33,"offset":4965},"indent":[]}},{"type":"text","value":" with the name of application","position":{"start":{"line":123,"column":33,"offset":4965},"end":{"line":123,"column":62,"offset":4994},"indent":[]}}],"position":{"start":{"line":123,"column":7,"offset":4939},"end":{"line":123,"column":62,"offset":4994},"indent":[]}}],"position":{"start":{"line":123,"column":4,"offset":4936},"end":{"line":123,"column":62,"offset":4994},"indent":[]}},{"type":"listItem","spread":true,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Provide configuration values specific to the helm chart under the ","position":{"start":{"line":124,"column":7,"offset":5001},"end":{"line":124,"column":73,"offset":5067},"indent":[]}},{"type":"inlineCode","value":"<app-chart-name>","position":{"start":{"line":124,"column":73,"offset":5067},"end":{"line":124,"column":91,"offset":5085},"indent":[]}},{"type":"text","value":" prefix","position":{"start":{"line":124,"column":91,"offset":5085},"end":{"line":124,"column":98,"offset":5092},"indent":[]}}],"position":{"start":{"line":124,"column":7,"offset":5001},"end":{"line":124,"column":98,"offset":5092},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":" ","position":{"start":{"line":126,"column":4,"offset":5097},"end":{"line":126,"column":5,"offset":5098},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Note:","position":{"start":{"line":126,"column":7,"offset":5100},"end":{"line":126,"column":12,"offset":5105},"indent":[]}}],"position":{"start":{"line":126,"column":5,"offset":5098},"end":{"line":126,"column":14,"offset":5107},"indent":[]}},{"type":"text","value":" The helm values will need to be prefixed with the helm chart name that was provided in the \n previous step. For example, assuming the helm chart is ","position":{"start":{"line":126,"column":14,"offset":5107},"end":{"line":127,"column":60,"offset":5259},"indent":[4]}},{"type":"inlineCode","value":"message-logger","position":{"start":{"line":127,"column":60,"offset":5259},"end":{"line":127,"column":76,"offset":5275},"indent":[]}},{"type":"text","value":" the values.yaml file would look like the following:","position":{"start":{"line":127,"column":76,"offset":5275},"end":{"line":127,"column":128,"offset":5327},"indent":[]}}],"position":{"start":{"line":126,"column":4,"offset":5097},"end":{"line":127,"column":128,"offset":5327},"indent":[4]}},{"type":"code","lang":"yaml","meta":null,"value":"message-logger:\n  replicaCount: 3","position":{"start":{"line":128,"column":4,"offset":5331},"end":{"line":131,"column":9,"offset":5390},"indent":[4,4,4]}},{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"Note:","position":{"start":{"line":132,"column":6,"offset":5396},"end":{"line":132,"column":11,"offset":5401},"indent":[]}}],"position":{"start":{"line":132,"column":4,"offset":5394},"end":{"line":132,"column":13,"offset":5403},"indent":[]}},{"type":"text","value":" The specific values that should be configured are dependent on the helm chart that is referenced\nin the ","position":{"start":{"line":132,"column":13,"offset":5403},"end":{"line":133,"column":11,"offset":5511},"indent":[4]}},{"type":"inlineCode","value":"requirements.yaml","position":{"start":{"line":133,"column":11,"offset":5511},"end":{"line":133,"column":30,"offset":5530},"indent":[]}},{"type":"text","value":". For the Starter Kits you can see those details and customize the chart by \nlooking in the ","position":{"start":{"line":133,"column":30,"offset":5530},"end":{"line":134,"column":19,"offset":5625},"indent":[4]}},{"type":"inlineCode","value":"chart/{chart name}","position":{"start":{"line":134,"column":19,"offset":5625},"end":{"line":134,"column":39,"offset":5645},"indent":[]}},{"type":"text","value":" of the repository.","position":{"start":{"line":134,"column":39,"offset":5645},"end":{"line":134,"column":58,"offset":5664},"indent":[]}}],"position":{"start":{"line":132,"column":4,"offset":5394},"end":{"line":134,"column":58,"offset":5664},"indent":[4,4]}}],"position":{"start":{"line":124,"column":4,"offset":4998},"end":{"line":134,"column":58,"offset":5664},"indent":[1,4,4,4,4,4,4,4,4,4]}}],"position":{"start":{"line":123,"column":4,"offset":4936},"end":{"line":134,"column":58,"offset":5664},"indent":[4,1,4,4,4,4,4,4,4,4,4]}}],"position":{"start":{"line":121,"column":1,"offset":4907},"end":{"line":135,"column":1,"offset":5665},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Repeat steps 4-7 for each application in the project","position":{"start":{"line":136,"column":4,"offset":5669},"end":{"line":136,"column":56,"offset":5721},"indent":[]}}],"position":{"start":{"line":136,"column":4,"offset":5669},"end":{"line":136,"column":56,"offset":5721},"indent":[]}}],"position":{"start":{"line":136,"column":1,"offset":5666},"end":{"line":136,"column":56,"offset":5721},"indent":[]}}],"position":{"start":{"line":93,"column":1,"offset":3844},"end":{"line":136,"column":56,"offset":5721},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"heading","depth":4,"children":[{"type":"text","value":"Register the git repo in ArgoCD","position":{"start":{"line":138,"column":6,"offset":5728},"end":{"line":138,"column":37,"offset":5759},"indent":[]}}],"position":{"start":{"line":138,"column":1,"offset":5723},"end":{"line":138,"column":37,"offset":5759},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Now that the repository has been created, we need to tell ArgoCD where it is.","position":{"start":{"line":140,"column":1,"offset":5761},"end":{"line":140,"column":78,"offset":5838},"indent":[]}}],"position":{"start":{"line":140,"column":1,"offset":5761},"end":{"line":140,"column":78,"offset":5838},"indent":[]}},{"type":"list","ordered":true,"start":1,"spread":true,"children":[{"type":"listItem","spread":true,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Get the ArgoCD login information from the ","position":{"start":{"line":142,"column":4,"offset":5843},"end":{"line":142,"column":46,"offset":5885},"indent":[]}},{"type":"inlineCode","value":"igc credentials","position":{"start":{"line":142,"column":46,"offset":5885},"end":{"line":142,"column":63,"offset":5902},"indent":[]}},{"type":"text","value":" cli command","position":{"start":{"line":142,"column":63,"offset":5902},"end":{"line":142,"column":75,"offset":5914},"indent":[]}}],"position":{"start":{"line":142,"column":4,"offset":5843},"end":{"line":142,"column":75,"offset":5914},"indent":[]}},{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"Note:","position":{"start":{"line":144,"column":7,"offset":5922},"end":{"line":144,"column":12,"offset":5927},"indent":[]}}],"position":{"start":{"line":144,"column":5,"offset":5920},"end":{"line":144,"column":14,"offset":5929},"indent":[]}},{"type":"text","value":" You need to be logged into the cluster on the command-line for the CLI to access the cluster information.","position":{"start":{"line":144,"column":14,"offset":5929},"end":{"line":144,"column":120,"offset":6035},"indent":[]}}],"position":{"start":{"line":144,"column":5,"offset":5920},"end":{"line":144,"column":120,"offset":6035},"indent":[]}}],"position":{"start":{"line":142,"column":1,"offset":5840},"end":{"line":145,"column":1,"offset":6036},"indent":[1,1,1]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Log into ArgoCD","position":{"start":{"line":146,"column":4,"offset":6040},"end":{"line":146,"column":19,"offset":6055},"indent":[]}}],"position":{"start":{"line":146,"column":4,"offset":6040},"end":{"line":146,"column":19,"offset":6055},"indent":[]}}],"position":{"start":{"line":146,"column":1,"offset":6037},"end":{"line":147,"column":1,"offset":6056},"indent":[1]}},{"type":"listItem","spread":true,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Click on the gear icon on the left menu to access the Settings options","position":{"start":{"line":148,"column":4,"offset":6060},"end":{"line":148,"column":74,"offset":6130},"indent":[]}}],"position":{"start":{"line":148,"column":4,"offset":6060},"end":{"line":148,"column":74,"offset":6130},"indent":[]}},{"type":"paragraph","children":[{"type":"image","title":null,"url":"/images/argocd-config.png","alt":"ArgoCD config","position":{"start":{"line":150,"column":5,"offset":6136},"end":{"line":150,"column":48,"offset":6179},"indent":[]}}],"position":{"start":{"line":150,"column":5,"offset":6136},"end":{"line":150,"column":48,"offset":6179},"indent":[]}}],"position":{"start":{"line":148,"column":1,"offset":6057},"end":{"line":151,"column":1,"offset":6180},"indent":[1,1,1]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Select the ","position":{"start":{"line":152,"column":4,"offset":6184},"end":{"line":152,"column":15,"offset":6195},"indent":[]}},{"type":"inlineCode","value":"Repositories","position":{"start":{"line":152,"column":15,"offset":6195},"end":{"line":152,"column":29,"offset":6209},"indent":[]}},{"type":"text","value":" option","position":{"start":{"line":152,"column":29,"offset":6209},"end":{"line":152,"column":36,"offset":6216},"indent":[]}}],"position":{"start":{"line":152,"column":4,"offset":6184},"end":{"line":152,"column":36,"offset":6216},"indent":[]}}],"position":{"start":{"line":152,"column":1,"offset":6181},"end":{"line":153,"column":1,"offset":6217},"indent":[1]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Click the ","position":{"start":{"line":154,"column":4,"offset":6221},"end":{"line":154,"column":14,"offset":6231},"indent":[]}},{"type":"inlineCode","value":"Connect Repo","position":{"start":{"line":154,"column":14,"offset":6231},"end":{"line":154,"column":28,"offset":6245},"indent":[]}},{"type":"text","value":" button at the top and provide the url, username, and personal access token for the Git repo.","position":{"start":{"line":154,"column":28,"offset":6245},"end":{"line":154,"column":121,"offset":6338},"indent":[]}}],"position":{"start":{"line":154,"column":4,"offset":6221},"end":{"line":154,"column":121,"offset":6338},"indent":[]}}],"position":{"start":{"line":154,"column":1,"offset":6218},"end":{"line":154,"column":121,"offset":6338},"indent":[]}}],"position":{"start":{"line":142,"column":1,"offset":5840},"end":{"line":154,"column":121,"offset":6338},"indent":[1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"heading","depth":4,"children":[{"type":"text","value":"Create a project in ArgoCD (Optional)","position":{"start":{"line":156,"column":6,"offset":6345},"end":{"line":156,"column":43,"offset":6382},"indent":[]}}],"position":{"start":{"line":156,"column":1,"offset":6340},"end":{"line":156,"column":43,"offset":6382},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"In ArgoCD terms, each deployable component is an application and applications are grouped into projects. Projects are not \nrequired for ArgoCD to be able to deploy applications but it helps to organize applications and provide some restrictions\non what can be done for applications that make up a project.","position":{"start":{"line":158,"column":1,"offset":6384},"end":{"line":160,"column":61,"offset":6689},"indent":[1,1]}}],"position":{"start":{"line":158,"column":1,"offset":6384},"end":{"line":160,"column":61,"offset":6689},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"To create a project, do the following:","position":{"start":{"line":162,"column":1,"offset":6691},"end":{"line":162,"column":39,"offset":6729},"indent":[]}}],"position":{"start":{"line":162,"column":1,"offset":6691},"end":{"line":162,"column":39,"offset":6729},"indent":[]}},{"type":"list","ordered":true,"start":1,"spread":true,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Log into ArgoCD","position":{"start":{"line":164,"column":4,"offset":6734},"end":{"line":164,"column":19,"offset":6749},"indent":[]}}],"position":{"start":{"line":164,"column":4,"offset":6734},"end":{"line":164,"column":19,"offset":6749},"indent":[]}}],"position":{"start":{"line":164,"column":1,"offset":6731},"end":{"line":165,"column":1,"offset":6750},"indent":[1]}},{"type":"listItem","spread":true,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Click on the gear icon on the left menu to access the Settings options","position":{"start":{"line":166,"column":4,"offset":6754},"end":{"line":166,"column":74,"offset":6824},"indent":[]}}],"position":{"start":{"line":166,"column":4,"offset":6754},"end":{"line":166,"column":74,"offset":6824},"indent":[]}},{"type":"paragraph","children":[{"type":"image","title":null,"url":"/images/argocd-config.png","alt":"ArgoCD config","position":{"start":{"line":168,"column":5,"offset":6830},"end":{"line":168,"column":48,"offset":6873},"indent":[]}}],"position":{"start":{"line":168,"column":5,"offset":6830},"end":{"line":168,"column":48,"offset":6873},"indent":[]}}],"position":{"start":{"line":166,"column":1,"offset":6751},"end":{"line":169,"column":1,"offset":6874},"indent":[1,1,1]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Select the ","position":{"start":{"line":170,"column":4,"offset":6878},"end":{"line":170,"column":15,"offset":6889},"indent":[]}},{"type":"inlineCode","value":"Projects","position":{"start":{"line":170,"column":15,"offset":6889},"end":{"line":170,"column":25,"offset":6899},"indent":[]}},{"type":"text","value":" option","position":{"start":{"line":170,"column":25,"offset":6899},"end":{"line":170,"column":32,"offset":6906},"indent":[]}}],"position":{"start":{"line":170,"column":4,"offset":6878},"end":{"line":170,"column":32,"offset":6906},"indent":[]}}],"position":{"start":{"line":170,"column":1,"offset":6875},"end":{"line":171,"column":1,"offset":6907},"indent":[1]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Click the ","position":{"start":{"line":172,"column":4,"offset":6911},"end":{"line":172,"column":14,"offset":6921},"indent":[]}},{"type":"inlineCode","value":"New Project","position":{"start":{"line":172,"column":14,"offset":6921},"end":{"line":172,"column":27,"offset":6934},"indent":[]}},{"type":"text","value":" button at the top of the page.","position":{"start":{"line":172,"column":27,"offset":6934},"end":{"line":172,"column":58,"offset":6965},"indent":[]}}],"position":{"start":{"line":172,"column":4,"offset":6911},"end":{"line":172,"column":58,"offset":6965},"indent":[]}}],"position":{"start":{"line":172,"column":1,"offset":6908},"end":{"line":173,"column":1,"offset":6966},"indent":[1]}},{"type":"listItem","spread":true,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Provide the following values then press ","position":{"start":{"line":174,"column":4,"offset":6970},"end":{"line":174,"column":44,"offset":7010},"indent":[]}},{"type":"inlineCode","value":"Create","position":{"start":{"line":174,"column":44,"offset":7010},"end":{"line":174,"column":52,"offset":7018},"indent":[]}},{"type":"text","value":":","position":{"start":{"line":174,"column":52,"offset":7018},"end":{"line":174,"column":53,"offset":7019},"indent":[]}}],"position":{"start":{"line":174,"column":4,"offset":6970},"end":{"line":174,"column":53,"offset":7019},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"name","position":{"start":{"line":176,"column":7,"offset":7027},"end":{"line":176,"column":13,"offset":7033},"indent":[]}},{"type":"text","value":" - provide the name for the project","position":{"start":{"line":176,"column":13,"offset":7033},"end":{"line":176,"column":48,"offset":7068},"indent":[]}}],"position":{"start":{"line":176,"column":7,"offset":7027},"end":{"line":176,"column":48,"offset":7068},"indent":[]}}],"position":{"start":{"line":176,"column":5,"offset":7025},"end":{"line":176,"column":48,"offset":7068},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"description","position":{"start":{"line":177,"column":7,"offset":7075},"end":{"line":177,"column":20,"offset":7088},"indent":[]}},{"type":"text","value":" - a brief description of the project","position":{"start":{"line":177,"column":20,"offset":7088},"end":{"line":177,"column":57,"offset":7125},"indent":[]}}],"position":{"start":{"line":177,"column":7,"offset":7075},"end":{"line":177,"column":57,"offset":7125},"indent":[]}}],"position":{"start":{"line":177,"column":5,"offset":7073},"end":{"line":177,"column":57,"offset":7125},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"sources","position":{"start":{"line":178,"column":7,"offset":7132},"end":{"line":178,"column":16,"offset":7141},"indent":[]}},{"type":"text","value":" - click ","position":{"start":{"line":178,"column":16,"offset":7141},"end":{"line":178,"column":25,"offset":7150},"indent":[]}},{"type":"inlineCode","value":"add source","position":{"start":{"line":178,"column":25,"offset":7150},"end":{"line":178,"column":37,"offset":7162},"indent":[]}},{"type":"text","value":" and pick the Git repository from the list that was added previously","position":{"start":{"line":178,"column":37,"offset":7162},"end":{"line":178,"column":105,"offset":7230},"indent":[]}}],"position":{"start":{"line":178,"column":7,"offset":7132},"end":{"line":178,"column":105,"offset":7230},"indent":[]}}],"position":{"start":{"line":178,"column":5,"offset":7130},"end":{"line":178,"column":105,"offset":7230},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"destinations","position":{"start":{"line":179,"column":7,"offset":7237},"end":{"line":179,"column":21,"offset":7251},"indent":[]}},{"type":"text","value":" ","position":{"start":{"line":179,"column":21,"offset":7251},"end":{"line":179,"column":22,"offset":7252},"indent":[]}}],"position":{"start":{"line":179,"column":7,"offset":7237},"end":{"line":179,"column":22,"offset":7252},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Add ","position":{"start":{"line":180,"column":11,"offset":7263},"end":{"line":180,"column":15,"offset":7267},"indent":[]}},{"type":"inlineCode","value":"https://kubernetes.default.svc","position":{"start":{"line":180,"column":15,"offset":7267},"end":{"line":180,"column":47,"offset":7299},"indent":[]}},{"type":"text","value":" for the cluster url and ","position":{"start":{"line":180,"column":47,"offset":7299},"end":{"line":180,"column":72,"offset":7324},"indent":[]}},{"type":"inlineCode","value":"test","position":{"start":{"line":180,"column":72,"offset":7324},"end":{"line":180,"column":78,"offset":7330},"indent":[]}},{"type":"text","value":" for the namespace","position":{"start":{"line":180,"column":78,"offset":7330},"end":{"line":180,"column":96,"offset":7348},"indent":[]}}],"position":{"start":{"line":180,"column":11,"offset":7263},"end":{"line":180,"column":96,"offset":7348},"indent":[]}}],"position":{"start":{"line":180,"column":7,"offset":7259},"end":{"line":180,"column":96,"offset":7348},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Add ","position":{"start":{"line":181,"column":11,"offset":7359},"end":{"line":181,"column":15,"offset":7363},"indent":[]}},{"type":"inlineCode","value":"https://kubernetes.default.svc","position":{"start":{"line":181,"column":15,"offset":7363},"end":{"line":181,"column":47,"offset":7395},"indent":[]}},{"type":"text","value":" for the cluster url and ","position":{"start":{"line":181,"column":47,"offset":7395},"end":{"line":181,"column":72,"offset":7420},"indent":[]}},{"type":"inlineCode","value":"staging","position":{"start":{"line":181,"column":72,"offset":7420},"end":{"line":181,"column":81,"offset":7429},"indent":[]}},{"type":"text","value":" for the namespace ","position":{"start":{"line":181,"column":81,"offset":7429},"end":{"line":181,"column":100,"offset":7448},"indent":[]}}],"position":{"start":{"line":181,"column":11,"offset":7359},"end":{"line":181,"column":100,"offset":7448},"indent":[]}}],"position":{"start":{"line":181,"column":7,"offset":7355},"end":{"line":181,"column":100,"offset":7448},"indent":[]}}],"position":{"start":{"line":180,"column":7,"offset":7259},"end":{"line":181,"column":100,"offset":7448},"indent":[7]}}],"position":{"start":{"line":179,"column":5,"offset":7235},"end":{"line":181,"column":100,"offset":7448},"indent":[5,5]}}],"position":{"start":{"line":176,"column":5,"offset":7025},"end":{"line":181,"column":100,"offset":7448},"indent":[5,5,5,5,5]}},{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"Note:","position":{"start":{"line":183,"column":7,"offset":7456},"end":{"line":183,"column":12,"offset":7461},"indent":[]}}],"position":{"start":{"line":183,"column":5,"offset":7454},"end":{"line":183,"column":14,"offset":7463},"indent":[]}},{"type":"text","value":" Initially, the only cluster that is available is the one that ArgoCD is running in - \n","position":{"start":{"line":183,"column":14,"offset":7463},"end":{"line":184,"column":5,"offset":7554},"indent":[5]}},{"type":"inlineCode","value":"https://kubernetes.default.svc","position":{"start":{"line":184,"column":5,"offset":7554},"end":{"line":184,"column":37,"offset":7586},"indent":[]}},{"type":"text","value":". By adding the two destinations we have allowed the project to be deployed\nto both the ","position":{"start":{"line":184,"column":37,"offset":7586},"end":{"line":185,"column":17,"offset":7678},"indent":[5]}},{"type":"inlineCode","value":"test","position":{"start":{"line":185,"column":17,"offset":7678},"end":{"line":185,"column":23,"offset":7684},"indent":[]}},{"type":"text","value":" and ","position":{"start":{"line":185,"column":23,"offset":7684},"end":{"line":185,"column":28,"offset":7689},"indent":[]}},{"type":"inlineCode","value":"staging","position":{"start":{"line":185,"column":28,"offset":7689},"end":{"line":185,"column":37,"offset":7698},"indent":[]}},{"type":"text","value":" namespaces within the current cluster.","position":{"start":{"line":185,"column":37,"offset":7698},"end":{"line":185,"column":76,"offset":7737},"indent":[]}}],"position":{"start":{"line":183,"column":5,"offset":7454},"end":{"line":185,"column":76,"offset":7737},"indent":[5,5]}}],"position":{"start":{"line":174,"column":1,"offset":6967},"end":{"line":185,"column":76,"offset":7737},"indent":[1,1,1,1,1,1,1,1,1,1,1]}}],"position":{"start":{"line":164,"column":1,"offset":6731},"end":{"line":185,"column":76,"offset":7737},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"heading","depth":4,"children":[{"type":"text","value":"Add an application in ArgoCD for each application component (helm chart)","position":{"start":{"line":187,"column":6,"offset":7744},"end":{"line":187,"column":78,"offset":7816},"indent":[]}}],"position":{"start":{"line":187,"column":1,"offset":7739},"end":{"line":187,"column":79,"offset":7817},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The last step in the process is to define the application(s) within ArgoCD that should be managed. This consists of\nconnecting the config within the Git repo to the cluster and namespace.","position":{"start":{"line":189,"column":1,"offset":7819},"end":{"line":190,"column":72,"offset":8006},"indent":[1]}}],"position":{"start":{"line":189,"column":1,"offset":7819},"end":{"line":190,"column":72,"offset":8006},"indent":[1]}},{"type":"list","ordered":true,"start":1,"spread":true,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Log into ArgoCD","position":{"start":{"line":192,"column":4,"offset":8011},"end":{"line":192,"column":19,"offset":8026},"indent":[]}}],"position":{"start":{"line":192,"column":4,"offset":8011},"end":{"line":192,"column":19,"offset":8026},"indent":[]}}],"position":{"start":{"line":192,"column":1,"offset":8008},"end":{"line":193,"column":1,"offset":8027},"indent":[1]}},{"type":"listItem","spread":true,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Click ","position":{"start":{"line":194,"column":4,"offset":8031},"end":{"line":194,"column":10,"offset":8037},"indent":[]}},{"type":"inlineCode","value":"New Application","position":{"start":{"line":194,"column":10,"offset":8037},"end":{"line":194,"column":27,"offset":8054},"indent":[]}},{"type":"text","value":" and provide the following values:","position":{"start":{"line":194,"column":27,"offset":8054},"end":{"line":194,"column":61,"offset":8088},"indent":[]}}],"position":{"start":{"line":194,"column":4,"offset":8031},"end":{"line":194,"column":61,"offset":8088},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"application name","position":{"start":{"line":196,"column":7,"offset":8096},"end":{"line":196,"column":25,"offset":8114},"indent":[]}},{"type":"text","value":" - The name of the application. It is recommend to use the format of ","position":{"start":{"line":196,"column":25,"offset":8114},"end":{"line":196,"column":94,"offset":8183},"indent":[]}},{"type":"inlineCode","value":"{namespace}-{image name}","position":{"start":{"line":196,"column":94,"offset":8183},"end":{"line":196,"column":120,"offset":8209},"indent":[]}}],"position":{"start":{"line":196,"column":7,"offset":8096},"end":{"line":196,"column":120,"offset":8209},"indent":[]}}],"position":{"start":{"line":196,"column":5,"offset":8094},"end":{"line":196,"column":120,"offset":8209},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"project","position":{"start":{"line":197,"column":7,"offset":8216},"end":{"line":197,"column":16,"offset":8225},"indent":[]}},{"type":"text","value":" - The project with which the application should be included","position":{"start":{"line":197,"column":16,"offset":8225},"end":{"line":197,"column":76,"offset":8285},"indent":[]}}],"position":{"start":{"line":197,"column":7,"offset":8216},"end":{"line":197,"column":76,"offset":8285},"indent":[]}}],"position":{"start":{"line":197,"column":5,"offset":8214},"end":{"line":197,"column":76,"offset":8285},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"sync-policy","position":{"start":{"line":198,"column":7,"offset":8292},"end":{"line":198,"column":20,"offset":8305},"indent":[]}},{"type":"text","value":" - The manner with which ArgoCD will use to manage the deployed artifacts. ","position":{"start":{"line":198,"column":20,"offset":8305},"end":{"line":198,"column":95,"offset":8380},"indent":[]}},{"type":"inlineCode","value":"Automatic with pruning","position":{"start":{"line":198,"column":95,"offset":8380},"end":{"line":198,"column":119,"offset":8404},"indent":[]}},{"type":"text","value":" is \nrecommended","position":{"start":{"line":198,"column":119,"offset":8404},"end":{"line":199,"column":16,"offset":8424},"indent":[5]}}],"position":{"start":{"line":198,"column":7,"offset":8292},"end":{"line":199,"column":16,"offset":8424},"indent":[5]}}],"position":{"start":{"line":198,"column":5,"offset":8290},"end":{"line":199,"column":16,"offset":8424},"indent":[5]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"repository url","position":{"start":{"line":200,"column":7,"offset":8431},"end":{"line":200,"column":23,"offset":8447},"indent":[]}},{"type":"text","value":" - The Git url where the configuration is stored","position":{"start":{"line":200,"column":23,"offset":8447},"end":{"line":200,"column":71,"offset":8495},"indent":[]}}],"position":{"start":{"line":200,"column":7,"offset":8431},"end":{"line":200,"column":71,"offset":8495},"indent":[]}}],"position":{"start":{"line":200,"column":5,"offset":8429},"end":{"line":200,"column":71,"offset":8495},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"revision","position":{"start":{"line":201,"column":7,"offset":8502},"end":{"line":201,"column":17,"offset":8512},"indent":[]}},{"type":"text","value":" - The branch where the configuration for this instance is stored","position":{"start":{"line":201,"column":17,"offset":8512},"end":{"line":201,"column":82,"offset":8577},"indent":[]}}],"position":{"start":{"line":201,"column":7,"offset":8502},"end":{"line":201,"column":82,"offset":8577},"indent":[]}}],"position":{"start":{"line":201,"column":5,"offset":8500},"end":{"line":201,"column":82,"offset":8577},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"path","position":{"start":{"line":202,"column":7,"offset":8584},"end":{"line":202,"column":13,"offset":8590},"indent":[]}},{"type":"text","value":" - The path within the repository where the application config is located (should be the application name)","position":{"start":{"line":202,"column":13,"offset":8590},"end":{"line":202,"column":119,"offset":8696},"indent":[]}}],"position":{"start":{"line":202,"column":7,"offset":8584},"end":{"line":202,"column":119,"offset":8696},"indent":[]}}],"position":{"start":{"line":202,"column":5,"offset":8582},"end":{"line":202,"column":119,"offset":8696},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"destination cluster","position":{"start":{"line":203,"column":7,"offset":8703},"end":{"line":203,"column":28,"offset":8724},"indent":[]}},{"type":"text","value":" - The cluster url for the deployment","position":{"start":{"line":203,"column":28,"offset":8724},"end":{"line":203,"column":65,"offset":8761},"indent":[]}}],"position":{"start":{"line":203,"column":7,"offset":8703},"end":{"line":203,"column":65,"offset":8761},"indent":[]}}],"position":{"start":{"line":203,"column":5,"offset":8701},"end":{"line":203,"column":65,"offset":8761},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"destination namespace","position":{"start":{"line":204,"column":7,"offset":8768},"end":{"line":204,"column":30,"offset":8791},"indent":[]}},{"type":"text","value":" - The namespace where the application should be deployed","position":{"start":{"line":204,"column":30,"offset":8791},"end":{"line":204,"column":87,"offset":8848},"indent":[]}}],"position":{"start":{"line":204,"column":7,"offset":8768},"end":{"line":204,"column":87,"offset":8848},"indent":[]}}],"position":{"start":{"line":204,"column":5,"offset":8766},"end":{"line":204,"column":87,"offset":8848},"indent":[]}}],"position":{"start":{"line":196,"column":5,"offset":8094},"end":{"line":204,"column":87,"offset":8848},"indent":[5,5,5,5,5,5,5,5]}}],"position":{"start":{"line":194,"column":1,"offset":8028},"end":{"line":205,"column":1,"offset":8849},"indent":[1,1,1,1,1,1,1,1,1,1,1]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Repeat that step for each application and each environment","position":{"start":{"line":206,"column":4,"offset":8853},"end":{"line":206,"column":62,"offset":8911},"indent":[]}}],"position":{"start":{"line":206,"column":4,"offset":8853},"end":{"line":206,"column":62,"offset":8911},"indent":[]}}],"position":{"start":{"line":206,"column":1,"offset":8850},"end":{"line":206,"column":62,"offset":8911},"indent":[]}}],"position":{"start":{"line":192,"column":1,"offset":8008},"end":{"line":206,"column":62,"offset":8911},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Hook the Jenkins pipeline to the CD pipeline","position":{"start":{"line":208,"column":5,"offset":8917},"end":{"line":208,"column":49,"offset":8961},"indent":[]}}],"position":{"start":{"line":208,"column":1,"offset":8913},"end":{"line":208,"column":49,"offset":8961},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The last stage in the Jenkins pipeline updates the version number in the ","position":{"start":{"line":210,"column":1,"offset":8963},"end":{"line":210,"column":74,"offset":9036},"indent":[]}},{"type":"inlineCode","value":"requirements.yaml","position":{"start":{"line":210,"column":74,"offset":9036},"end":{"line":210,"column":93,"offset":9055},"indent":[]}},{"type":"text","value":" to version of the helm chart\nthat was just built. In order for the pipeline to push the updated file into the GitOps repo, it needs to read the url\nand credentials from a Kubernetes secret named ","position":{"start":{"line":210,"column":93,"offset":9055},"end":{"line":212,"column":48,"offset":9251},"indent":[1,1]}},{"type":"inlineCode","value":"gitops-cd-secret","position":{"start":{"line":212,"column":48,"offset":9251},"end":{"line":212,"column":66,"offset":9269},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":212,"column":66,"offset":9269},"end":{"line":212,"column":67,"offset":9270},"indent":[]}}],"position":{"start":{"line":210,"column":1,"offset":8963},"end":{"line":212,"column":67,"offset":9270},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Fortunately, a helm chart has been provided in the ArgoCD Starter Kit to help in the creation of the secret. The following\nsteps will walk through using the helm chart to create the secret.","position":{"start":{"line":214,"column":1,"offset":9272},"end":{"line":215,"column":67,"offset":9461},"indent":[1]}}],"position":{"start":{"line":214,"column":1,"offset":9272},"end":{"line":215,"column":67,"offset":9461},"indent":[1]}},{"type":"heading","depth":4,"children":[{"type":"text","value":"Create the ","position":{"start":{"line":217,"column":6,"offset":9468},"end":{"line":217,"column":17,"offset":9479},"indent":[]}},{"type":"inlineCode","value":"gitops-cd-secret","position":{"start":{"line":217,"column":17,"offset":9479},"end":{"line":217,"column":35,"offset":9497},"indent":[]}}],"position":{"start":{"line":217,"column":1,"offset":9463},"end":{"line":217,"column":35,"offset":9497},"indent":[]}},{"type":"list","ordered":true,"start":1,"spread":true,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Log into the cluster on the command-line.","position":{"start":{"line":219,"column":4,"offset":9502},"end":{"line":219,"column":45,"offset":9543},"indent":[]}}],"position":{"start":{"line":219,"column":4,"offset":9502},"end":{"line":219,"column":45,"offset":9543},"indent":[]}}],"position":{"start":{"line":219,"column":1,"offset":9499},"end":{"line":220,"column":1,"offset":9544},"indent":[1]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Change the directory to the root of the ArgoCD Starter Kit repo that was cloned previously.","position":{"start":{"line":221,"column":4,"offset":9548},"end":{"line":221,"column":95,"offset":9639},"indent":[]}}],"position":{"start":{"line":221,"column":4,"offset":9548},"end":{"line":221,"column":95,"offset":9639},"indent":[]}}],"position":{"start":{"line":221,"column":1,"offset":9545},"end":{"line":222,"column":1,"offset":9640},"indent":[1]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Run ","position":{"start":{"line":223,"column":4,"offset":9644},"end":{"line":223,"column":8,"offset":9648},"indent":[]}},{"type":"inlineCode","value":"igc tools","position":{"start":{"line":223,"column":8,"offset":9648},"end":{"line":223,"column":19,"offset":9659},"indent":[]}},{"type":"text","value":" to start the tools environment","position":{"start":{"line":223,"column":19,"offset":9659},"end":{"line":223,"column":50,"offset":9690},"indent":[]}}],"position":{"start":{"line":223,"column":4,"offset":9644},"end":{"line":223,"column":50,"offset":9690},"indent":[]}}],"position":{"start":{"line":223,"column":1,"offset":9641},"end":{"line":224,"column":1,"offset":9691},"indent":[1]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Within the tools image context, run the following to create the secret:","position":{"start":{"line":225,"column":4,"offset":9695},"end":{"line":225,"column":75,"offset":9766},"indent":[]}}],"position":{"start":{"line":225,"column":4,"offset":9695},"end":{"line":225,"column":75,"offset":9766},"indent":[]}}],"position":{"start":{"line":225,"column":1,"offset":9692},"end":{"line":225,"column":75,"offset":9766},"indent":[]}}],"position":{"start":{"line":219,"column":1,"offset":9499},"end":{"line":225,"column":75,"offset":9766},"indent":[1,1,1,1,1,1]}},{"type":"code","lang":"bash","meta":null,"value":"helm template \\ \n    --name gitops-cd-secret \\\n    --namespace tools \\\n    --set git.username={GIT_USERNAME} \\\n    --set git.personalAccessToken={GIT_PAT} \\\n    --set git.host={GIT_HOST} \\\n    --set git.org={GIT_ORG} \\\n    --set git.repo={GIT_REPO} | \\\n    kubectl apply -n tools -f -","position":{"start":{"line":227,"column":1,"offset":9768},"end":{"line":237,"column":4,"offset":10064},"indent":[1,1,1,1,1,1,1,1,1,1]}},{"type":"export","value":"export const _frontmatter = {}","position":{"start":{"line":240,"column":1,"offset":10067},"end":{"line":240,"column":31,"offset":10097},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":240,"column":31,"offset":10097}}},"scopeImports":[],"scopeIdentifiers":[],"rawMDXOutput":"/* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\nimport DefaultLayout from \"/home/jenkins/workspace/dev/dev-ibm-garage-cloud.ibm-garage-developer-guide.sms-pipeline/node_modules/gatsby-theme-carbon/src/templates/Default.js\"\nexport const _frontmatter = {};\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\")\n  return <div {...props}/>\n};\nconst PageDescription = makeShortcode(\"PageDescription\");\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <PageDescription mdxType=\"PageDescription\">\n      <p>{`Use ArgoCD to continuously deliver application changes into the runtime environment`}</p>\n    </PageDescription>\n    <p>{`In IBM Garage Method, one of the Develop practices is `}<a parentName=\"p\" {...{\n        \"href\": \"https://www.ibm.com/garage/method/practices/deliver/practice_continuous_delivery/\"\n      }}>{`continuous delivery`}</a>{`.\nThe Developer Tools environment uses an ArgoCD pipeline to automate continuous delivery.`}</p>\n    <h2 {...{\n      \"id\": \"what-is-continuous-delivery\"\n    }}>{`What is continuous delivery`}</h2>\n    <p>{`Continuous delivery is the DevOps approach of continuously making new versions of a application components available\nfor deployment to an environment. The process involves automation of the build and validation process and concludes with\na new version of the application that is available for promotion to another environment.`}</p>\n    <p>{`Continuous Delivery is closely related to Continuous Deployment with the only distinction being that in\nContinuous Deployment the new versions are automatically deployed into the next environment. In Continuous\nDelivery the automated deployment requires the deployment to be manually triggered.`}</p>\n    <h2 {...{\n      \"id\": \"what-is-git-ops\"\n    }}>{`What is Git Ops`}</h2>\n    <p><a parentName=\"p\" {...{\n        \"href\": \"https://www.weave.works/technologies/gitops/\"\n      }}>{`GitOps`}</a>{` is the operational pattern of using Git repositories as the source of truth for\ndefining the configuration that makes up the desired state of the application.`}</p>\n    <h2 {...{\n      \"id\": \"common-tools\"\n    }}>{`Common tools`}</h2>\n    <h3 {...{\n      \"id\": \"what-is-argocd\"\n    }}>{`What is ArgoCD`}</h3>\n    <p>{`ArgoCD is a delarative, GitOps continuous delivery tools for Kubernetes`}</p>\n    <p>{`It supports defining kubernetes manifests in a number of ways:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`kustomize`}</li>\n      <li parentName=\"ul\">{`helm charts`}</li>\n      <li parentName=\"ul\">{`ksonnet`}</li>\n      <li parentName=\"ul\">{`jsonnet`}</li>\n      <li parentName=\"ul\">{`plain directory of yaml/json manifests`}</li>\n    </ul>\n    <p>{`ArgoCD synchronizes the application state with the desired state defined in Git and\nautomates the deployment of kubernetes resources to ensure they match.`}</p>\n    <h3 {...{\n      \"id\": \"configuring-gitops-with-argocd\"\n    }}>{`Configuring GitOps with ArgoCD`}</h3>\n    <p>{`You must have completed the `}<a parentName=\"p\" {...{\n        \"href\": \"/ibm-garage-developer-guide/getting-started/argocd-setup\"\n      }}>{`ArgoCD Setup`}</a>{` before continuing.`}</p>\n    <p><strong parentName=\"p\">{`Terminology:`}</strong></p>\n    <p>{`ArgoCD uses a number of terms to refer to the components`}</p>\n    <ul>\n      <li parentName=\"ul\">\n        <p parentName=\"li\"><inlineCode parentName=\"p\">{`Application`}</inlineCode>{` - a deployable unit`}</p>\n        <p parentName=\"li\">{`  In the context of the Dev Tools, that will map to one helm chart that contains one container image\nthat was produced by one CI pipeline. While helm charts and images could certainly be combined to\nmake more sophisticated applications in more advanced scenarios, we will be using this simple definition\nhere.\n`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\"><inlineCode parentName=\"p\">{`Project`}</inlineCode>{` - a collection of applications that make up a solution`}</p>\n      </li>\n    </ul>\n    <h4 {...{\n      \"id\": \"find-the-url-to-the-artifactory-helm-repository\"\n    }}>{`Find the url to the Artifactory helm repository`}</h4>\n    <p>{`Assuming a build has already completed successfully and published the result to Artifactory then use the following steps:`}</p>\n    <ol>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Open the Artifactory dashboard from the `}<a parentName=\"p\" {...{\n            \"href\": \"/ibm-garage-developer-guide/getting-started/dashboard\"\n          }}>{`Developer Tools Dashboard`}</a>{` and login`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Select `}<inlineCode parentName=\"p\">{`Artifacts`}</inlineCode>{` from the left nav menu`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`In the `}<inlineCode parentName=\"p\">{`Artifact Repository Browser`}</inlineCode>{`, expand the `}<inlineCode parentName=\"p\">{`generic-local`}</inlineCode>{` folder and the folder beneath it.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Click on the `}<inlineCode parentName=\"p\">{`index.yaml`}</inlineCode>{` file`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`In the details pane on the right, right-click on the `}<inlineCode parentName=\"p\">{`Download`}</inlineCode>{` link and copy the link address.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Open a text editor and paste the link address value into it. The helm repository url should be the value\nexcluding `}<inlineCode parentName=\"p\">{`index.yaml`}</inlineCode>{` `}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`For example, for \\`https://artifactory.test.com/artifactory/generic-local/test/index.yaml\\` the helm repository\nurl would be \\`https://artifactory.test.com/artifactory/generic-local/test\\`\n`}</code></pre>\n      </li>\n    </ol>\n    <h4 {...{\n      \"id\": \"setup-the-gitops-repo\"\n    }}>{`Setup the GitOps repo`}</h4>\n    <p>{`ArgoCD uses a Git repo to express the desired state of the Kubernetes environment. We recommend using\none repository to represent one `}<inlineCode parentName=\"p\">{`project`}</inlineCode>{`. Within that repository we will have a separate folder for\neach `}<inlineCode parentName=\"p\">{`application`}</inlineCode>{` that will be part of the `}<inlineCode parentName=\"p\">{`project`}</inlineCode>{`. The repository will also contain a branch for\neach environment/namespace into which we want to deploy the applications.`}</p>\n    <ol>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Create a new repo from the ArgoCD Starter Kit template - `}<a parentName=\"p\" {...{\n            \"href\": \"https://github.com/ibm-garage-cloud/template-argocd-test/generate\"\n          }}>{`https://github.com/ibm-garage-cloud/template-argocd-test/generate`}</a></p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Clone the project to your machine`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Create a branch named `}<inlineCode parentName=\"p\">{`test`}</inlineCode>{` to configure the values for deployment to the `}<inlineCode parentName=\"p\">{`test`}</inlineCode>{` environment`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-bash\"\n          }}>{`git checkout -b test\n`}</code></pre>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`The repository contains a template helm chart in the `}<inlineCode parentName=\"p\">{`app-artifactory`}</inlineCode>{` folder. Copy that folder and rename to one of\nthe application names in your project.`}</p>\n        <p parentName=\"li\">{`   The application name should match the name in the package.json if the Jenkins CI pipeline is going push changes to the\nCD pipeline.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Update `}<inlineCode parentName=\"p\">{`Chart.yaml`}</inlineCode></p>\n        <ul parentName=\"li\">\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`name`}</inlineCode>{` - the name of the application (should match the folder from the previous step)`}</li>\n        </ul>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Update `}<inlineCode parentName=\"p\">{`requirements.yaml`}</inlineCode></p>\n        <ul parentName=\"li\">\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`name`}</inlineCode>{` - the name of helm chart/image. This should match your application name`}</li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`version`}</inlineCode>{` - the version number of the helm chart`}</li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`repository`}</inlineCode>{` - the url to the helm repository`}</li>\n        </ul>\n        <p parentName=\"li\">{`If you are using Artifactory, you should have retrieved the `}<inlineCode parentName=\"p\">{`repository`}</inlineCode>{` value in the previous section.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Update `}<inlineCode parentName=\"p\">{`values.yaml`}</inlineCode></p>\n        <ul parentName=\"li\">\n          <li parentName=\"ul\">\n            <p parentName=\"li\">{`Replace `}<inlineCode parentName=\"p\">{`<app-chart-name>`}</inlineCode>{` with the name of application`}</p>\n          </li>\n          <li parentName=\"ul\">\n            <p parentName=\"li\">{`Provide configuration values specific to the helm chart under the `}<inlineCode parentName=\"p\">{`<app-chart-name>`}</inlineCode>{` prefix`}</p>\n            <p parentName=\"li\">{` `}<strong parentName=\"p\">{`Note:`}</strong>{` The helm values will need to be prefixed with the helm chart name that was provided in the\nprevious step. For example, assuming the helm chart is `}<inlineCode parentName=\"p\">{`message-logger`}</inlineCode>{` the values.yaml file would look like the following:`}</p>\n            <pre parentName=\"li\"><code parentName=\"pre\" {...{\n                \"className\": \"language-yaml\"\n              }}>{`message-logger:\n  replicaCount: 3\n`}</code></pre>\n            <p parentName=\"li\"><strong parentName=\"p\">{`Note:`}</strong>{` The specific values that should be configured are dependent on the helm chart that is referenced\nin the `}<inlineCode parentName=\"p\">{`requirements.yaml`}</inlineCode>{`. For the Starter Kits you can see those details and customize the chart by\nlooking in the `}<inlineCode parentName=\"p\">{`chart/{chart name}`}</inlineCode>{` of the repository.`}</p>\n          </li>\n        </ul>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Repeat steps 4-7 for each application in the project`}</p>\n      </li>\n    </ol>\n    <h4 {...{\n      \"id\": \"register-the-git-repo-in-argocd\"\n    }}>{`Register the git repo in ArgoCD`}</h4>\n    <p>{`Now that the repository has been created, we need to tell ArgoCD where it is.`}</p>\n    <ol>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Get the ArgoCD login information from the `}<inlineCode parentName=\"p\">{`igc credentials`}</inlineCode>{` cli command`}</p>\n        <p parentName=\"li\"><strong parentName=\"p\">{`Note:`}</strong>{` You need to be logged into the cluster on the command-line for the CLI to access the cluster information.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Log into ArgoCD`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Click on the gear icon on the left menu to access the Settings options`}</p>\n        <span parentName=\"li\" {...{\n          \"className\": \"gatsby-resp-image-wrapper\",\n          \"style\": {\n            \"position\": \"relative\",\n            \"display\": \"block\",\n            \"marginLeft\": \"auto\",\n            \"marginRight\": \"auto\",\n            \"maxWidth\": \"1152px\"\n          }\n        }}>{`\n      `}<span parentName=\"span\" {...{\n            \"className\": \"gatsby-resp-image-background-image\",\n            \"style\": {\n              \"paddingBottom\": \"31.854545454545452%\",\n              \"position\": \"relative\",\n              \"bottom\": \"0\",\n              \"left\": \"0\",\n              \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAuklEQVQY062PSwuCQBSF57caUdkD2rTuZwpWlJSpaQ/HcV7B6TpG0CJ00cBhFvfc757D1qslhJT412NDz8PlzlGUAvmD48YFKmVQawNtLFRfkb9WGmzgzxAcYoSnDEGUYJ8UyAhaVIKSK2c29glt7U+5OfkaPxsRMDwm2J1zbAgaZVcH47WEqJW72lzvkiQ1O2w88QmYYhtf6Cdg2gJLIcFJLmVPYNUAp/PFN5AS5m+gMqazblvZfiq/AEYjyEZUoxfCAAAAAElFTkSuQmCC')\",\n              \"backgroundSize\": \"cover\",\n              \"display\": \"block\"\n            }\n          }}></span>{`\n  `}<img parentName=\"span\" {...{\n            \"className\": \"gatsby-resp-image-image\",\n            \"alt\": \"ArgoCD config\",\n            \"title\": \"ArgoCD config\",\n            \"src\": \"/ibm-garage-developer-guide/static/c8c14e74a827c9c2dff00ee18cc14073/fb070/argocd-config.png\",\n            \"srcSet\": [\"/ibm-garage-developer-guide/static/c8c14e74a827c9c2dff00ee18cc14073/d6747/argocd-config.png 288w\", \"/ibm-garage-developer-guide/static/c8c14e74a827c9c2dff00ee18cc14073/09548/argocd-config.png 576w\", \"/ibm-garage-developer-guide/static/c8c14e74a827c9c2dff00ee18cc14073/fb070/argocd-config.png 1152w\", \"/ibm-garage-developer-guide/static/c8c14e74a827c9c2dff00ee18cc14073/fb104/argocd-config.png 1728w\", \"/ibm-garage-developer-guide/static/c8c14e74a827c9c2dff00ee18cc14073/902fb/argocd-config.png 2304w\", \"/ibm-garage-developer-guide/static/c8c14e74a827c9c2dff00ee18cc14073/5448d/argocd-config.png 2750w\"],\n            \"sizes\": \"(max-width: 1152px) 100vw, 1152px\",\n            \"loading\": \"lazy\"\n          }}></img>{`\n    `}</span>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Select the `}<inlineCode parentName=\"p\">{`Repositories`}</inlineCode>{` option`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Click the `}<inlineCode parentName=\"p\">{`Connect Repo`}</inlineCode>{` button at the top and provide the url, username, and personal access token for the Git repo.`}</p>\n      </li>\n    </ol>\n    <h4 {...{\n      \"id\": \"create-a-project-in-argocd-optional\"\n    }}>{`Create a project in ArgoCD (Optional)`}</h4>\n    <p>{`In ArgoCD terms, each deployable component is an application and applications are grouped into projects. Projects are not\nrequired for ArgoCD to be able to deploy applications but it helps to organize applications and provide some restrictions\non what can be done for applications that make up a project.`}</p>\n    <p>{`To create a project, do the following:`}</p>\n    <ol>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Log into ArgoCD`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Click on the gear icon on the left menu to access the Settings options`}</p>\n        <span parentName=\"li\" {...{\n          \"className\": \"gatsby-resp-image-wrapper\",\n          \"style\": {\n            \"position\": \"relative\",\n            \"display\": \"block\",\n            \"marginLeft\": \"auto\",\n            \"marginRight\": \"auto\",\n            \"maxWidth\": \"1152px\"\n          }\n        }}>{`\n      `}<span parentName=\"span\" {...{\n            \"className\": \"gatsby-resp-image-background-image\",\n            \"style\": {\n              \"paddingBottom\": \"31.854545454545452%\",\n              \"position\": \"relative\",\n              \"bottom\": \"0\",\n              \"left\": \"0\",\n              \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAuklEQVQY062PSwuCQBSF57caUdkD2rTuZwpWlJSpaQ/HcV7B6TpG0CJ00cBhFvfc757D1qslhJT412NDz8PlzlGUAvmD48YFKmVQawNtLFRfkb9WGmzgzxAcYoSnDEGUYJ8UyAhaVIKSK2c29glt7U+5OfkaPxsRMDwm2J1zbAgaZVcH47WEqJW72lzvkiQ1O2w88QmYYhtf6Cdg2gJLIcFJLmVPYNUAp/PFN5AS5m+gMqazblvZfiq/AEYjyEZUoxfCAAAAAElFTkSuQmCC')\",\n              \"backgroundSize\": \"cover\",\n              \"display\": \"block\"\n            }\n          }}></span>{`\n  `}<img parentName=\"span\" {...{\n            \"className\": \"gatsby-resp-image-image\",\n            \"alt\": \"ArgoCD config\",\n            \"title\": \"ArgoCD config\",\n            \"src\": \"/ibm-garage-developer-guide/static/c8c14e74a827c9c2dff00ee18cc14073/fb070/argocd-config.png\",\n            \"srcSet\": [\"/ibm-garage-developer-guide/static/c8c14e74a827c9c2dff00ee18cc14073/d6747/argocd-config.png 288w\", \"/ibm-garage-developer-guide/static/c8c14e74a827c9c2dff00ee18cc14073/09548/argocd-config.png 576w\", \"/ibm-garage-developer-guide/static/c8c14e74a827c9c2dff00ee18cc14073/fb070/argocd-config.png 1152w\", \"/ibm-garage-developer-guide/static/c8c14e74a827c9c2dff00ee18cc14073/fb104/argocd-config.png 1728w\", \"/ibm-garage-developer-guide/static/c8c14e74a827c9c2dff00ee18cc14073/902fb/argocd-config.png 2304w\", \"/ibm-garage-developer-guide/static/c8c14e74a827c9c2dff00ee18cc14073/5448d/argocd-config.png 2750w\"],\n            \"sizes\": \"(max-width: 1152px) 100vw, 1152px\",\n            \"loading\": \"lazy\"\n          }}></img>{`\n    `}</span>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Select the `}<inlineCode parentName=\"p\">{`Projects`}</inlineCode>{` option`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Click the `}<inlineCode parentName=\"p\">{`New Project`}</inlineCode>{` button at the top of the page.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Provide the following values then press `}<inlineCode parentName=\"p\">{`Create`}</inlineCode>{`:`}</p>\n        <ul parentName=\"li\">\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`name`}</inlineCode>{` - provide the name for the project`}</li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`description`}</inlineCode>{` - a brief description of the project`}</li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`sources`}</inlineCode>{` - click `}<inlineCode parentName=\"li\">{`add source`}</inlineCode>{` and pick the Git repository from the list that was added previously`}</li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`destinations`}</inlineCode>{` `}<ul parentName=\"li\">\n              <li parentName=\"ul\">{`Add `}<inlineCode parentName=\"li\">{`https://kubernetes.default.svc`}</inlineCode>{` for the cluster url and `}<inlineCode parentName=\"li\">{`test`}</inlineCode>{` for the namespace`}</li>\n              <li parentName=\"ul\">{`Add `}<inlineCode parentName=\"li\">{`https://kubernetes.default.svc`}</inlineCode>{` for the cluster url and `}<inlineCode parentName=\"li\">{`staging`}</inlineCode>{` for the namespace `}</li>\n            </ul></li>\n        </ul>\n        <p parentName=\"li\"><strong parentName=\"p\">{`Note:`}</strong>{` Initially, the only cluster that is available is the one that ArgoCD is running in -\n`}<inlineCode parentName=\"p\">{`https://kubernetes.default.svc`}</inlineCode>{`. By adding the two destinations we have allowed the project to be deployed\nto both the `}<inlineCode parentName=\"p\">{`test`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`staging`}</inlineCode>{` namespaces within the current cluster.`}</p>\n      </li>\n    </ol>\n    <h4 {...{\n      \"id\": \"add-an-application-in-argocd-for-each-application-component-helm-chart\"\n    }}>{`Add an application in ArgoCD for each application component (helm chart)`}</h4>\n    <p>{`The last step in the process is to define the application(s) within ArgoCD that should be managed. This consists of\nconnecting the config within the Git repo to the cluster and namespace.`}</p>\n    <ol>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Log into ArgoCD`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Click `}<inlineCode parentName=\"p\">{`New Application`}</inlineCode>{` and provide the following values:`}</p>\n        <ul parentName=\"li\">\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`application name`}</inlineCode>{` - The name of the application. It is recommend to use the format of `}<inlineCode parentName=\"li\">{`{namespace}-{image name}`}</inlineCode></li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`project`}</inlineCode>{` - The project with which the application should be included`}</li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`sync-policy`}</inlineCode>{` - The manner with which ArgoCD will use to manage the deployed artifacts. `}<inlineCode parentName=\"li\">{`Automatic with pruning`}</inlineCode>{` is\nrecommended`}</li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`repository url`}</inlineCode>{` - The Git url where the configuration is stored`}</li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`revision`}</inlineCode>{` - The branch where the configuration for this instance is stored`}</li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`path`}</inlineCode>{` - The path within the repository where the application config is located (should be the application name)`}</li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`destination cluster`}</inlineCode>{` - The cluster url for the deployment`}</li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`destination namespace`}</inlineCode>{` - The namespace where the application should be deployed`}</li>\n        </ul>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Repeat that step for each application and each environment`}</p>\n      </li>\n    </ol>\n    <h3 {...{\n      \"id\": \"hook-the-jenkins-pipeline-to-the-cd-pipeline\"\n    }}>{`Hook the Jenkins pipeline to the CD pipeline`}</h3>\n    <p>{`The last stage in the Jenkins pipeline updates the version number in the `}<inlineCode parentName=\"p\">{`requirements.yaml`}</inlineCode>{` to version of the helm chart\nthat was just built. In order for the pipeline to push the updated file into the GitOps repo, it needs to read the url\nand credentials from a Kubernetes secret named `}<inlineCode parentName=\"p\">{`gitops-cd-secret`}</inlineCode>{`.`}</p>\n    <p>{`Fortunately, a helm chart has been provided in the ArgoCD Starter Kit to help in the creation of the secret. The following\nsteps will walk through using the helm chart to create the secret.`}</p>\n    <h4 {...{\n      \"id\": \"create-the-gitops-cd-secret\"\n    }}>{`Create the `}<inlineCode parentName=\"h4\">{`gitops-cd-secret`}</inlineCode></h4>\n    <ol>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Log into the cluster on the command-line.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Change the directory to the root of the ArgoCD Starter Kit repo that was cloned previously.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Run `}<inlineCode parentName=\"p\">{`igc tools`}</inlineCode>{` to start the tools environment`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Within the tools image context, run the following to create the secret:`}</p>\n      </li>\n    </ol>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-bash\"\n      }}>{`helm template \\\\ \n    --name gitops-cd-secret \\\\\n    --namespace tools \\\\\n    --set git.username={GIT_USERNAME} \\\\\n    --set git.personalAccessToken={GIT_PAT} \\\\\n    --set git.host={GIT_HOST} \\\\\n    --set git.org={GIT_ORG} \\\\\n    --set git.repo={GIT_REPO} | \\\\\n    kubectl apply -n tools -f -\n`}</code></pre>\n\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;"}}